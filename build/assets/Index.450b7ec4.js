import{z as be,m as i,c as me,p as ye,o as a,d as ve,e as q,f as R,u as O,H as _e,h as e,t as n,w as y,A as _,x as fe,a as l,F,y as G,n as W,g as L,j as b,k as K}from"./app.25130f87.js";import{_ as ke}from"./AuthenticatedLayout.bcaf0c16.js";import{_ as Q}from"./Modal.vue_vue_type_script_setup_true_lang.d016fc99.js";import{a as j}from"./index.82e67ccd.js";const we={class:"py-2"},Ce={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},Me={class:"bg-white overflow-hidden shadow-sm"},$e={class:"p-6 dark:bg-gray-900"},ze=e("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"},"\u0627\u0644\u0639\u0645\u0644\u0627\u0621",-1),je=e("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},"\u0625\u062F\u0627\u0631\u0629 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0639\u0645\u0644\u0627\u0621 \u0648\u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0627\u062A \u0627\u0644\u0645\u0627\u0644\u064A\u0629",-1),Se=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),Pe=e("span",null,"\u0625\u0636\u0627\u0641\u0629 \u0639\u0645\u064A\u0644 \u062C\u062F\u064A\u062F",-1),Be=[Se,Pe],Le=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})],-1),He=e("span",null,"\u0637\u0628\u0627\u0639\u0629 \u0627\u0644\u062A\u0642\u0631\u064A\u0631",-1),Ue=[Le,He],Ve={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},De={class:"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg"},Ne={class:"p-5"},Ae={class:"flex items-center"},Te=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])])],-1),qe={class:"ml-5 w-0 flex-1"},Re=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0639\u0645\u0644\u0627\u0621",-1),Fe={class:"text-lg font-medium text-gray-900 dark:text-white"},We={class:"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg"},Ee={class:"p-5"},Ie={class:"flex items-center"},Je=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])])],-1),Oe={class:"ml-5 w-0 flex-1"},Ge=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0637\u0644\u0648\u0628",-1),Ke={class:"text-lg font-medium text-gray-900 dark:text-white"},Qe={class:"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg"},Xe={class:"p-5"},Ye={class:"flex items-center"},Ze=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1),et={class:"ml-5 w-0 flex-1"},tt=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u062F\u0641\u0648\u0639",-1),ot={class:"text-lg font-medium text-gray-900 dark:text-white"},rt={class:"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg"},st={class:"p-5"},at={class:"flex items-center"},dt=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})])])],-1),nt={class:"ml-5 w-0 flex-1"},lt=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u062F\u064A\u0646",-1),it={class:"text-lg font-medium text-gray-900 dark:text-white"},ct={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"},ut=e("option",{value:""},"\u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0627\u0644\u0627\u062A",-1),gt=e("option",{value:"debtor"},"\u0645\u062F\u064A\u0646",-1),pt=e("option",{value:"paid"},"\u0645\u062F\u0641\u0648\u0639 \u0628\u0627\u0644\u0643\u0627\u0645\u0644",-1),xt=e("option",{value:"credit"},"\u0644\u062F\u064A\u0647 \u0631\u0635\u064A\u062F",-1),ht=[ut,gt,pt,xt],bt=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),mt=e("span",null,"\u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646",-1),yt=[bt,mt],vt={class:"bg-white dark:bg-gray-800 shadow rounded-lg"},_t=e("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0639\u0645\u0644\u0627\u0621")],-1),ft={key:0,class:"flex justify-center items-center py-12"},kt=e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},null,-1),wt=[kt],Ct={key:1,class:"text-center py-12"},Mt=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1),$t=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"\u0644\u0627 \u064A\u0648\u062C\u062F \u0639\u0645\u0644\u0627\u0621",-1),zt=e("p",{class:"mt-1 text-sm text-gray-500"},"\u0627\u0628\u062F\u0623 \u0628\u0625\u0636\u0627\u0641\u0629 \u0639\u0645\u064A\u0644 \u062C\u062F\u064A\u062F.",-1),jt=[Mt,$t,zt],St={key:2,class:"overflow-x-auto"},Pt={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Bt=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"#"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"\u0627\u0644\u0627\u0633\u0645"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"\u0627\u0644\u0647\u0627\u062A\u0641"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"\u0627\u0644\u0645\u0637\u0644\u0648\u0628"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"\u0627\u0644\u0645\u062F\u0641\u0648\u0639"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"\u0627\u0644\u0645\u062A\u0628\u0642\u064A"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"\u0627\u0644\u062D\u0627\u0644\u0629"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"\u0627\u0644\u0639\u0645\u0644\u064A\u0627\u062A")])],-1),Lt={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Ht={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},Ut={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},Vt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},Dt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},Nt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},At={class:"px-6 py-4 whitespace-nowrap"},Tt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},qt={class:"flex items-center gap-2"},Rt=["onClick"],Ft=["onClick"],Wt=["onClick"],Et={key:3,class:"bg-white dark:bg-gray-800 px-4 py-3 flex items-center justify-between border-t border-gray-200 dark:border-gray-700 sm:px-6"},It={class:"flex-1 flex justify-between sm:hidden"},Jt=["disabled"],Ot=["disabled"],Gt={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},Kt={class:"text-sm text-gray-700 dark:text-gray-300"},Qt={class:"font-medium"},Xt={class:"font-medium"},Yt={class:"font-medium"},Zt={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},eo=["disabled"],to=e("span",{class:"sr-only"},"\u0627\u0644\u0633\u0627\u0628\u0642",-1),oo=e("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1),ro=[to,oo],so=["onClick"],ao={key:1,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-700 dark:text-gray-300"},no=["disabled"],lo=e("span",{class:"sr-only"},"\u0627\u0644\u062A\u0627\u0644\u064A",-1),io=e("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),co=[lo,io],uo={class:"bg-white dark:bg-gray-800 px-6 py-8"},go=e("div",{class:"flex items-center"},[e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-8 w-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})])]),e("div",{class:"ml-3"},[e("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white"},"\u062A\u0639\u062F\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0639\u0645\u064A\u0644"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"\u0642\u0645 \u0628\u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629")])],-1),po=e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),xo=[po],ho=["onSubmit"],bo=e("label",{for:"edit_name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 text-right"},[e("span",{class:"text-red-500"},"*"),b(" \u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644 ")],-1),mo=e("label",{for:"edit_phone",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 text-right"}," \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641 ",-1),yo={class:"flex justify-end gap-4 pt-6 border-t border-gray-200 dark:border-gray-700"},vo=["disabled"],_o={key:0,class:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24"},fo=e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),ko=e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),wo=[fo,ko],Co={key:1,class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Mo=e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1),$o=[Mo],zo={class:"bg-white dark:bg-gray-800 px-6 py-8"},jo=e("div",{class:"flex items-center"},[e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})])]),e("div",{class:"ml-3"},[e("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white"},"\u0625\u0636\u0627\u0641\u0629 \u0639\u0645\u064A\u0644 \u062C\u062F\u064A\u062F"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"\u0623\u062F\u062E\u0644 \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0639\u0645\u064A\u0644 \u0627\u0644\u062C\u062F\u064A\u062F")])],-1),So=e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),Po=[So],Bo=["onSubmit"],Lo=e("label",{for:"add_name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 text-right"},[e("span",{class:"text-red-500"},"*"),b(" \u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644 ")],-1),Ho=e("label",{for:"add_phone",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 text-right"}," \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641 ",-1),Uo={class:"flex justify-end gap-4 pt-6 border-t border-gray-200 dark:border-gray-700"},Vo=["disabled"],Do={key:0,class:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24"},No=e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),Ao=e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),To=[No,Ao],qo={key:1,class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ro=e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"},null,-1),Fo=[Ro],Oo={__name:"Index",props:{clients:Array,totalClients:Number,currentPage:Number,perPage:Number,totalPages:Number,stats:Object},setup(X){const m=X,c=be(),H=i(!1),S=i(m.clients||[]),U=i(!1),V=i(!1),f=i(!1),k=i(!1),w=i(""),C=i(""),M=i(""),d=i(m.currentPage||1),D=i(m.perPage||10),N=i(m.totalClients||0),g=i(m.totalPages||1),$=i(m.stats||{}),u=i({id:null,name:"",phone:""}),h=i({name:"",phone:""}),Y=me(()=>{const o=[],r=Math.max(1,d.value-2),t=Math.min(g.value,d.value+2);r>1&&(o.push(1),r>2&&o.push("..."));for(let x=r;x<=t;x++)o.push(x);return t<g.value&&(t<g.value-1&&o.push("..."),o.push(g.value)),o}),v=o=>Math.round(o).toLocaleString("en-US"),Z=o=>o===0?"text-green-600":o>0?"text-red-600":"text-gray-600",E=o=>o===0?{text:"\u0645\u062F\u0641\u0648\u0639 \u0628\u0627\u0644\u0643\u0627\u0645\u0644",class:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400"}:o>0?{text:"\u0645\u062F\u064A\u0646",class:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}:{text:"\u0644\u062F\u064A\u0647 \u0631\u0635\u064A\u062F",class:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"},ee=o=>{window.location.href=`/user-wallet/${o}`},te=o=>{u.value={id:o.id,name:o.name,phone:o.phone||""},U.value=!0},P=()=>{U.value=!1,u.value={id:null,name:"",phone:""}},oe=()=>{V.value=!0},B=()=>{V.value=!1,h.value={name:"",phone:""}},re=async()=>{if(!u.value.name.trim()){c.error("\u064A\u0631\u062C\u0649 \u0625\u062F\u062E\u0627\u0644 \u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644");return}f.value=!0;try{const o=await j.put(`/api/clients/${u.value.id}`,{name:u.value.name,phone:u.value.phone});c.success("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0639\u0645\u064A\u0644 \u0628\u0646\u062C\u0627\u062D"),P(),p()}catch(o){c.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A"),console.error(o)}finally{f.value=!1}},se=async()=>{if(!h.value.name.trim()){c.error("\u064A\u0631\u062C\u0649 \u0625\u062F\u062E\u0627\u0644 \u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644");return}k.value=!0;try{const o=await j.post("/api/clients/store",{name:h.value.name,phone:h.value.phone});c.success("\u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0639\u0645\u064A\u0644 \u0628\u0646\u062C\u0627\u062D"),B(),p()}catch(o){c.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0639\u0645\u064A\u0644"),console.error(o)}finally{k.value=!1}},ae=async o=>{if(!!confirm("\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0639\u0645\u064A\u0644\u061F"))try{await j.delete(`/api/clients/${o}`),c.success("\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0639\u0645\u064A\u0644 \u0628\u0646\u062C\u0627\u062D"),p()}catch(r){c.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0630\u0641 \u0627\u0644\u0639\u0645\u064A\u0644"),console.error(r)}},p=async()=>{H.value=!0;try{const o=new URLSearchParams({page:d.value,per_page:D.value,name:w.value,phone:C.value,status:M.value}),r=await j.get(`/api/clients?${o}`);S.value=r.data.data,N.value=r.data.total,g.value=r.data.last_page,$.value=r.data.stats}catch(o){c.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A"),console.error(o)}finally{H.value=!1}},A=()=>{d.value=1,p()},de=()=>{w.value="",C.value="",M.value="",d.value=1,p()},ne=o=>{o>=1&&o<=g.value&&(d.value=o,p())},I=()=>{d.value>1&&(d.value--,p())},J=()=>{d.value<g.value&&(d.value++,p())},le=async()=>{try{const o=new URLSearchParams({per_page:1e4,name:w.value,phone:C.value,status:M.value}),t=(await j.get(`/api/clients?${o}`)).data.data,x=t.length,ie=t.reduce((s,z)=>s+(z.total_required||0),0),ce=t.reduce((s,z)=>s+(z.total_paid||0),0),ue=t.reduce((s,z)=>s+(z.remaining_debt||0),0),ge=t.filter(s=>s.remaining_debt>0).length,pe=t.filter(s=>s.remaining_debt===0).length,xe=t.filter(s=>s.remaining_debt<0).length,he=`
        <div style="font-family: Arial, sans-serif; padding: 20px;">
            <!-- Header -->
            <div style="text-align: center; margin-bottom: 30px;">
                <h1 style="margin-bottom: 10px; color: #2563eb;">Salam Jalal Ayoub Company</h1>
                <h2 style="margin-bottom: 15px;">Clients Report</h2>
                <p style="font-size: 14px; color: #666;">${new Date().toLocaleDateString("en-US")}</p>
            </div>
            
            <!-- Summary Cards -->
            <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-bottom: 30px;">
                <div style="background-color: #f8f9fa; padding: 15px; border-radius: 8px; border: 1px solid #ddd; text-align: center;">
                    <h3 style="margin-bottom: 8px; color: #374151; font-size: 14px;">Total Clients</h3>
                    <p style="font-size: 16px; font-weight: bold; color: #1f2937;">${x}</p>
                </div>
                
                <div style="background-color: #f8f9fa; padding: 15px; border-radius: 8px; border: 1px solid #ddd; text-align: center;">
                    <h3 style="margin-bottom: 8px; color: #374151; font-size: 14px;">Total Required</h3>
                    <p style="font-size: 16px; font-weight: bold; color: #1f2937;">$${Math.round(ie).toLocaleString("en-US")}</p>
                </div>
                
                <div style="background-color: #f8f9fa; padding: 15px; border-radius: 8px; border: 1px solid #ddd; text-align: center;">
                    <h3 style="margin-bottom: 8px; color: #374151; font-size: 14px;">Total Paid</h3>
                    <p style="font-size: 16px; font-weight: bold; color: #059669;">$${Math.round(ce).toLocaleString("en-US")}</p>
                </div>
                
                <div style="background-color: #f8f9fa; padding: 15px; border-radius: 8px; border: 1px solid #ddd; text-align: center;">
                    <h3 style="margin-bottom: 8px; color: #374151; font-size: 14px;">Total Debt</h3>
                    <p style="font-size: 16px; font-weight: bold; color: #dc2626;">$${Math.round(ue).toLocaleString("en-US")}</p>
                </div>
            </div>
            
            <!-- Client Status Summary -->
            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-bottom: 30px;">
                <div style="background-color: #f8f9fa; padding: 15px; border-radius: 8px; border: 1px solid #ddd; text-align: center;">
                    <h3 style="margin-bottom: 8px; color: #374151; font-size: 14px;">Clients with Debt</h3>
                    <p style="font-size: 16px; font-weight: bold; color: #dc2626;">${ge}</p>
                </div>
                
                <div style="background-color: #f8f9fa; padding: 15px; border-radius: 8px; border: 1px solid #ddd; text-align: center;">
                    <h3 style="margin-bottom: 8px; color: #374151; font-size: 14px;">Fully Paid</h3>
                    <p style="font-size: 16px; font-weight: bold; color: #059669;">${pe}</p>
                </div>
                
                <div style="background-color: #f8f9fa; padding: 15px; border-radius: 8px; border: 1px solid #ddd; text-align: center;">
                    <h3 style="margin-bottom: 8px; color: #374151; font-size: 14px;">With Credit</h3>
                    <p style="font-size: 16px; font-weight: bold; color: #2563eb;">${xe}</p>
                </div>
            </div>
            
            <!-- Detailed Table -->
            <h3 style="margin-bottom: 15px; text-align: center; color: #374151;">Clients Details</h3>
            <table style="width: 100%; border-collapse: collapse; margin-top: 20px; font-size: 12px;">
                <thead>
                    <tr style="background-color: #f8f9fa;">
                        <th style="border: 1px solid #ddd; padding: 8px; text-align: center;">ID</th>
                        <th style="border: 1px solid #ddd; padding: 8px; text-align: center;">Name</th>
                        <th style="border: 1px solid #ddd; padding: 8px; text-align: center;">Phone</th>
                        <th style="border: 1px solid #ddd; padding: 8px; text-align: center;">Required</th>
                        <th style="border: 1px solid #ddd; padding: 8px; text-align: center;">Paid</th>
                        <th style="border: 1px solid #ddd; padding: 8px; text-align: center;">Remaining</th>
                        <th style="border: 1px solid #ddd; padding: 8px; text-align: center;">Status</th>
                    </tr>
                </thead>
                <tbody>
                    ${t.map(s=>`
                        <tr>
                            <td style="border: 1px solid #ddd; padding: 6px; text-align: center;">${s.id}</td>
                            <td style="border: 1px solid #ddd; padding: 6px; text-align: center;">${s.name}</td>
                            <td style="border: 1px solid #ddd; padding: 6px; text-align: center;">${s.phone||"N/A"}</td>
                            <td style="border: 1px solid #ddd; padding: 6px; text-align: center;">$${Math.round(s.total_required||0).toLocaleString("en-US")}</td>
                            <td style="border: 1px solid #ddd; padding: 6px; text-align: center;">$${Math.round(s.total_paid||0).toLocaleString("en-US")}</td>
                            <td style="border: 1px solid #ddd; padding: 6px; text-align: center; color: ${s.remaining_debt===0?"#059669":s.remaining_debt>0?"#dc2626":"#2563eb"};">$${Math.round(s.remaining_debt||0).toLocaleString("en-US")}</td>
                            <td style="border: 1px solid #ddd; padding: 6px; text-align: center;">
                                ${s.remaining_debt===0?"Paid":s.remaining_debt>0?"Debtor":"With Credit"}
                            </td>
                        </tr>
                    `).join("")}
                </tbody>
            </table>
        </div>
    `,T=window.open("","_blank");T.document.write(`
        <html>
            <head>
                <title>Clients Report</title>
                <style>
                    @media print {
                        body { margin: 0; }
                        @page { margin: 1cm; }
                    }
                </style>
            </head>
            <body>
                ${he}
            </body>
        </html>
    `),T.document.close(),T.print()}catch(o){c.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0644\u0644\u0637\u0628\u0627\u0639\u0629"),console.error(o)}};return ye(()=>{m.clients||p()}),(o,r)=>(a(),ve(ke,null,{default:q(()=>[R(O(_e),{title:"\u0627\u0644\u0639\u0645\u0644\u0627\u0621"}),e("div",we,[e("div",Ce,[e("div",Me,[e("div",$e,[e("div",{class:"mb-6"},[ze,je,e("div",{class:"mt-4 flex gap-4"},[e("button",{onClick:oe,class:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg flex items-center space-x-2"},Be),e("button",{onClick:le,class:"bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-lg flex items-center space-x-2"},Ue)])]),e("div",Ve,[e("div",De,[e("div",Ne,[e("div",Ae,[Te,e("div",qe,[e("dl",null,[Re,e("dd",Fe,n($.value.total_clients||0),1)])])])])]),e("div",We,[e("div",Ee,[e("div",Ie,[Je,e("div",Oe,[e("dl",null,[Ge,e("dd",Ke," $"+n(v($.value.total_required||0)),1)])])])])]),e("div",Qe,[e("div",Xe,[e("div",Ye,[Ze,e("div",et,[e("dl",null,[tt,e("dd",ot," $"+n(v($.value.total_paid||0)),1)])])])])]),e("div",rt,[e("div",st,[e("div",at,[dt,e("div",nt,[e("dl",null,[lt,e("dd",it," $"+n(v($.value.total_debt||0)),1)])])])])])]),e("div",ct,[e("div",null,[y(e("input",{"onUpdate:modelValue":r[0]||(r[0]=t=>w.value=t),onInput:A,type:"text",placeholder:"\u0627\u0644\u0628\u062D\u062B \u0628\u0627\u0644\u0627\u0633\u0645...",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200"},null,544),[[_,w.value]])]),e("div",null,[y(e("input",{"onUpdate:modelValue":r[1]||(r[1]=t=>C.value=t),onInput:A,type:"text",placeholder:"\u0627\u0644\u0628\u062D\u062B \u0628\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641...",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200"},null,544),[[_,C.value]])]),e("div",null,[y(e("select",{"onUpdate:modelValue":r[2]||(r[2]=t=>M.value=t),onChange:A,class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200"},ht,544),[[fe,M.value]])]),e("div",null,[e("button",{onClick:de,class:"w-full bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center space-x-2"},yt)])]),e("div",vt,[_t,H.value?(a(),l("div",ft,wt)):S.value.length===0?(a(),l("div",Ct,jt)):(a(),l("div",St,[e("table",Pt,[Bt,e("tbody",Lt,[(a(!0),l(F,null,G(S.value,t=>(a(),l("tr",{key:t.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[e("td",Ht,n(t.id),1),e("td",Ut,n(t.name),1),e("td",Vt,n(t.phone||"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"),1),e("td",Dt," $"+n(v(t.total_required)),1),e("td",Nt," $"+n(v(t.total_paid)),1),e("td",{class:W(["px-6 py-4 whitespace-nowrap text-sm font-medium",Z(t.remaining_debt)])}," $"+n(v(t.remaining_debt)),3),e("td",At,[e("span",{class:W(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",E(t.remaining_debt).class])},n(E(t.remaining_debt).text),3)]),e("td",Tt,[e("div",qt,[t.email!=="admin@admin.com"&&t.show_wallet?(a(),l("button",{key:0,onClick:x=>ee(t.id),class:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300 px-3 py-1 rounded-md bg-green-50 hover:bg-green-100 dark:bg-green-900/20 dark:hover:bg-green-900/30 transition-colors duration-200"}," \u0642\u0627\u0633\u0629 ",8,Rt)):L("",!0),t.email!=="admin@admin.com"?(a(),l("button",{key:1,onClick:x=>te(t),class:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 px-3 py-1 rounded-md bg-blue-50 hover:bg-blue-100 dark:bg-blue-900/20 dark:hover:bg-blue-900/30 transition-colors duration-200"}," \u062A\u0639\u062F\u064A\u0644 ",8,Ft)):L("",!0),t.email!=="admin@admin.com"?(a(),l("button",{key:2,onClick:x=>ae(t.id),class:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 px-3 py-1 rounded-md bg-red-50 hover:bg-red-100 dark:bg-red-900/20 dark:hover:bg-red-900/30 transition-colors duration-200"}," \u062D\u0630\u0641 ",8,Wt)):L("",!0)])])]))),128))])])])),S.value.length>0?(a(),l("div",Et,[e("div",It,[e("button",{onClick:I,disabled:d.value===1,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed"}," \u0627\u0644\u0633\u0627\u0628\u0642 ",8,Jt),e("button",{onClick:J,disabled:d.value===g.value,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed"}," \u0627\u0644\u062A\u0627\u0644\u064A ",8,Ot)]),e("div",Gt,[e("div",null,[e("p",Kt,[b(" \u0639\u0631\u0636 "),e("span",Qt,n((d.value-1)*D.value+1),1),b(" \u0625\u0644\u0649 "),e("span",Xt,n(Math.min(d.value*D.value,N.value)),1),b(" \u0645\u0646 "),e("span",Yt,n(N.value),1),b(" \u0646\u062A\u064A\u062C\u0629 ")])]),e("div",null,[e("nav",Zt,[e("button",{onClick:I,disabled:d.value===1,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed"},ro,8,eo),(a(!0),l(F,null,G(O(Y),t=>(a(),l(F,{key:t},[t!=="..."?(a(),l("button",{key:0,onClick:x=>ne(t),class:W([t===d.value?"z-10 bg-blue-50 dark:bg-blue-900/20 border-blue-500 text-blue-600 dark:text-blue-400":"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700","relative inline-flex items-center px-4 py-2 border text-sm font-medium"])},n(t),11,so)):(a(),l("span",ao," ... "))],64))),128)),e("button",{onClick:J,disabled:d.value===g.value,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed"},co,8,no)])])])])):L("",!0)])])])])]),R(Q,{show:U.value,onClose:P},{default:q(()=>[e("div",uo,[e("div",{class:"flex items-center justify-between mb-6"},[go,e("button",{onClick:P,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors duration-200"},xo)]),e("form",{onSubmit:K(re,["prevent"]),class:"space-y-6"},[e("div",null,[bo,y(e("input",{type:"text",id:"edit_name","onUpdate:modelValue":r[3]||(r[3]=t=>u.value.name=t),required:"",class:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 text-lg",placeholder:"\u0623\u062F\u062E\u0644 \u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644"},null,512),[[_,u.value.name]])]),e("div",null,[mo,y(e("input",{type:"text",id:"edit_phone","onUpdate:modelValue":r[4]||(r[4]=t=>u.value.phone=t),class:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 text-lg",placeholder:"\u0623\u062F\u062E\u0644 \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641"},null,512),[[_,u.value.phone]])]),e("div",yo,[e("button",{type:"button",onClick:P,class:"px-6 py-3 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200 font-medium"}," \u0625\u0644\u063A\u0627\u0621 "),e("button",{type:"submit",disabled:f.value,class:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 font-medium"},[f.value?(a(),l("svg",_o,wo)):(a(),l("svg",Co,$o)),b(" "+n(f.value?"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u062F\u064A\u062B...":"\u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A"),1)],8,vo)])],40,ho)])]),_:1},8,["show"]),R(Q,{show:V.value,onClose:B},{default:q(()=>[e("div",zo,[e("div",{class:"flex items-center justify-between mb-6"},[jo,e("button",{onClick:B,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors duration-200"},Po)]),e("form",{onSubmit:K(se,["prevent"]),class:"space-y-6"},[e("div",null,[Lo,y(e("input",{type:"text",id:"add_name","onUpdate:modelValue":r[5]||(r[5]=t=>h.value.name=t),required:"",class:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors duration-200 text-lg",placeholder:"\u0623\u062F\u062E\u0644 \u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644"},null,512),[[_,h.value.name]])]),e("div",null,[Ho,y(e("input",{type:"text",id:"add_phone","onUpdate:modelValue":r[6]||(r[6]=t=>h.value.phone=t),class:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors duration-200 text-lg",placeholder:"\u0623\u062F\u062E\u0644 \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641"},null,512),[[_,h.value.phone]])]),e("div",Uo,[e("button",{type:"button",onClick:B,class:"px-6 py-3 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200 font-medium"}," \u0625\u0644\u063A\u0627\u0621 "),e("button",{type:"submit",disabled:k.value,class:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 font-medium"},[k.value?(a(),l("svg",Do,To)):(a(),l("svg",qo,Fo)),b(" "+n(k.value?"\u062C\u0627\u0631\u064A \u0627\u0644\u0625\u0636\u0627\u0641\u0629...":"\u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0639\u0645\u064A\u0644"),1)],8,Vo)])],40,Bo)])]),_:1},8,["show"])]),_:1}))}};export{Oo as default};
