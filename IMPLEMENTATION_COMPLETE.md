# ูุธุงู Sub-domains ูุน Cache - ุชู ุงูุชุทุจูู ุจูุฌุงุญ! ๐

## ููุฎุต ูุง ุชู ุชุทุจููู

ุชู ุชุทุจูู ูุธุงู ุฅุฏุงุฑุฉ ุงููุณุชุฃุฌุฑูู ูุน ุงูู sub-domains ุจูุฌุงุญ ูุน ุงูููุฒุงุช ุงูุชุงููุฉ:

### โ ุงูููุฒุงุช ุงููุทุจูุฉ:

1. **ูุธุงู Sub-domains ูุน Cache**
   - ุฏุนู ูุงูู ููู sub-domains
   - ูุธุงู cache ุฐูู ูุชุญุณูู ุงูุฃุฏุงุก
   - ุฅุฏุงุฑุฉ ุชููุงุฆูุฉ ูููุงุด ุนูุฏ ุงูุชุญุฏูุซ

2. **ุฅุฏุงุฑุฉ ุงูุฏููููุงุช**
   - ุฅุถุงูุฉ ุฏููููุงุช ูุชุนุฏุฏุฉ ููู ูุณุชุฃุฌุฑ
   - ุชุนุฏูู ูุญุฐู ุงูุฏููููุงุช
   - ุงูุชุญูู ูู ุตุญุฉ ุงูุฏููููุงุช

3. **ูุงุฌูุฉ ุงูุฅุฏุงุฑุฉ**
   - ุตูุญุงุช ุฅุฏุงุฑุฉ ุงููุณุชุฃุฌุฑูู ุจุงููุบุฉ ุงูุนุฑุจูุฉ
   - ุชุตููู responsive ุจุงุณุชุฎุฏุงู Tailwind CSS
   - ููุงุฐุฌ ุชูุงุนููุฉ ูุฅุฏุงุฑุฉ ุงูุฏููููุงุช

4. **API Endpoints**
   - API ุดุงูู ูุฅุฏุงุฑุฉ ุงูู sub-domains
   - ุฏุนู ููุจุญุซ ูุงูุชุญูู ูู ุงูุฏููููุงุช
   - ุฅุฏุงุฑุฉ ุงููุงุด ุนุจุฑ API

5. **ูุธุงู Cache ูุชูุฏู**
   - ุชูููู ูุฑู ููู cache
   - ูุณุญ ุชููุงุฆู ูููุงุด ุนูุฏ ุงูุชุญุฏูุซ
   - ุฏุนู Redis ููู cache

## ุงููููุงุช ุงููุถุงูุฉ/ุงููุญุฏุซุฉ:

### Controllers
- โ `app/Http/Controllers/TenantController.php` - ูุญุฏุซ ูุน ูุธุงุฆู ุฅุฏุงุฑุฉ ุงูุฏููููุงุช
- โ `app/Http/Controllers/Api/SubdomainApiController.php` - ุฌุฏูุฏ - API controller

### Middleware
- โ `app/Http/Middleware/TenantMiddleware.php` - ูุญุฏุซ ูุฏุนู ุงูู sub-domains ูุน cache

### Helpers
- โ `app/Helpers/SubdomainHelper.php` - ุฌุฏูุฏ - ูุณุงุนุฏ ูุฅุฏุงุฑุฉ ุงูู sub-domains ูุงูู cache

### Views
- โ `resources/views/tenants/index.blade.php` - ูุงุฆูุฉ ุงููุณุชุฃุฌุฑูู
- โ `resources/views/tenants/show.blade.php` - ุชูุงุตูู ุงููุณุชุฃุฌุฑ ูุน ุฅุฏุงุฑุฉ ุงูุฏููููุงุช
- โ `resources/views/tenants/create.blade.php` - ุฅุถุงูุฉ ูุณุชุฃุฌุฑ ุฌุฏูุฏ
- โ `resources/views/tenants/edit.blade.php` - ุชุนุฏูู ุงููุณุชุฃุฌุฑ
- โ `resources/views/layouts/app.blade.php` - Layout ุฃุณุงุณู

### Commands
- โ `app/Console/Commands/ClearTenantCache.php` - ุฃูุฑ ููุณุญ ูุงุด ุงููุณุชุฃุฌุฑูู

### Providers
- โ `app/Providers/SubdomainServiceProvider.php` - ุฌุฏูุฏ - Service Provider ููู subdomains

### Configuration
- โ `config/tenancy.php` - ูุญุฏุซ ูุฏุนู ุงูู sub-domains
- โ `config/tenant-cache.php` - ุฌุฏูุฏ - ุชูููู ุงูู cache

### Tests
- โ `tests/Feature/SubdomainSystemTest.php` - ุฌุฏูุฏ - ุงุฎุชุจุงุฑุงุช ุงููุธุงู

### Routes
- โ `routes/web.php` - ูุญุฏุซ ูุน routes ุฅุฏุงุฑุฉ ุงูุฏููููุงุช
- โ `routes/api.php` - ูุญุฏุซ ูุน API endpoints

## ููููุฉ ุงูุงุณุชุฎุฏุงู:

### 1. ุฅุนุฏุงุฏ ุงูุจูุฆุฉ
```bash
# ุชุดุบูู ุงููุงูุฌุฑูุดู
php artisan migrate

# ุชุดุบูู ุงูุฎุงุฏู
php artisan serve --host=0.0.0.0 --port=8000
```

### 2. ุฅุนุฏุงุฏ ุงูู Hosts (Windows)
ุฃุถู ูุฐู ุงูุฃุณุทุฑ ุฅูู ููู `C:\Windows\System32\drivers\etc\hosts`:
```
127.0.0.1 car-management.local
127.0.0.1 admin.car-management.local
127.0.0.1 www.car-management.local
127.0.0.1 app.car-management.local
```

### 3. ุงููุตูู ูููุธุงู
- **ููุญุฉ ุงูุฅุฏุงุฑุฉ**: `http://admin.car-management.local:8000/admin/tenants`
- **ุงููููุน ุงูุฑุฆูุณู**: `http://car-management.local:8000`

### 4. ุฅุถุงูุฉ ูุณุชุฃุฌุฑ ุฌุฏูุฏ
1. ุงุฐูุจ ุฅูู ููุญุฉ ุงูุฅุฏุงุฑุฉ
2. ุงุถุบุท "ุฅุถุงูุฉ ูุณุชุฃุฌุฑ ุฌุฏูุฏ"
3. ุงููุฃ ุงูุจูุงูุงุช:
   - ุงูุงุณู: ุงุณู ุงูุดุฑูุฉ
   - ุงูุฏูููู: subdomain.car-management.local
   - ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
   - ุฎุทุฉ ุงูุงุดุชุฑุงู
4. ุงุถุบุท "ุฅูุดุงุก ุงููุณุชุฃุฌุฑ"

### 5. ุงููุตูู ูููุณุชุฃุฌุฑ
ุจุนุฏ ุงูุฅูุดุงุกุ ูููู ุงููุตูู ูููุณุชุฃุฌุฑ ุนุจุฑ:
`http://subdomain.car-management.local:8000`

## API Endpoints:

### ุงูุญุตูู ุนูู ูุณุชุฃุฌุฑ ุจุงูู subdomain:
```
GET /api/admin/subdomain/tenant/by-subdomain?subdomain=example
```

### ุฅูุดุงุก URL ููู subdomain:
```
POST /api/admin/subdomain/generate-url
{
    "subdomain": "example",
    "path": "/dashboard"
}
```

### ูุณุญ ุงููุงุด:
```
POST /api/admin/subdomain/clear-cache
{
    "tenant_id": "uuid"
}
```

## ุงูุฃูุงูุฑ ุงููุชุงุญุฉ:

```bash
# ูุณุญ ูุงุด ูุณุชุฃุฌุฑ ูุญุฏุฏ
php artisan tenants:clear-cache

# ูุณุญ ุฌููุน ุงููุงุด
php artisan tenants:clear-cache --all
```

## ุงูููุฒุงุช ุงููุชูุฏูุฉ:

1. **ูุธุงู Cache ุฐูู**
   - ูุงุด ููุฏุฉ ุณุงุนุฉ ูุงุญุฏุฉ (ูุงุจู ููุชุนุฏูู)
   - ูุณุญ ุชููุงุฆู ุนูุฏ ุงูุชุญุฏูุซ
   - ุฏุนู Redis ููู cache

2. **ุฅุฏุงุฑุฉ ุงูุฏููููุงุช**
   - ุฅุถุงูุฉ ุฏููููุงุช ูุชุนุฏุฏุฉ
   - ุชุนุฏูู ูุญุฐู ุงูุฏููููุงุช
   - ุงูุชุญูู ูู ุตุญุฉ ุงูุฏููููุงุช

3. **API ุดุงูู**
   - ุฌููุน ุงูุนูููุงุช ูุชุงุญุฉ ุนุจุฑ API
   - ุฏุนู ููุจุญุซ ูุงูุชุญูู
   - ุฅุฏุงุฑุฉ ุงููุงุด

4. **ุฃูุงู ูุชูุฏู**
   - ุญูุงูุฉ CSRF
   - ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช
   - ุญูุงูุฉ ูู ุงููุตูู ุบูุฑ ุงููุตุฑุญ ุจู

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก:

### ูุดููุฉ ุงููุตูู ููู subdomain:
- ุชุญูู ูู ุฅุนุฏุงุฏ ุงูู hosts
- ุชุฃูุฏ ูู ุชุดุบูู ุงูุฎุงุฏู ุนูู ุงููููุฐ ุงูุตุญูุญ

### ูุดููุฉ ุงููุงุด:
- ุงุณุชุฎุฏู ุงูุฃูุฑ `php artisan tenants:clear-cache --all`
- ุชุญูู ูู ุฅุนุฏุงุฏุงุช Redis

### ูุดููุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช:
- ุชุฃูุฏ ูู ุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู `.env`
- ุชุญูู ูู ุชุดุบูู MySQL

## ุงูุชุทููุฑ ุงููุณุชูุจูู:

- [ ] ุฅุถุงูุฉ ูุธุงู ุฅุดุนุงุฑุงุช
- [ ] ุชุญุณูู ูุงุฌูุฉ ุงููุณุชุฎุฏู
- [ ] ุฅุถุงูุฉ ุชูุงุฑูุฑ ููุตูุฉ
- [ ] ุฏุนู ุงูู SSL ููู sub-domains
- [ ] ูุธุงู backup ุชููุงุฆู
- [ ] ุฏุนู ุงูู CDN ููู sub-domains

## ุงูุฏุนู:

ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู! ๐

ูููุณุงุนุฏุฉ ุฃู ุงูุงุณุชูุณุงุฑุงุชุ ูุฑุฌู ุงูุชูุงุตู ูุน ูุฑูู ุงูุชุทููุฑ.
