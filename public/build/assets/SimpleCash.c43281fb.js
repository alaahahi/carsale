import{z as q,m as p,p as I,o as a,d as G,e as J,f as K,u as O,H as Q,h as e,a as l,t as r,n as C,g as u,F as T,y as E,j as g,k as j,w as B,A as S}from"./app.224419f7.js";import{_ as X}from"./AuthenticatedLayout.3efbad45.js";import{a as $}from"./index.5d13e94f.js";const Y={class:"py-6"},Z={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},ee=e("div",{class:"mb-6"},[e("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"},"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0635\u0646\u062F\u0648\u0642 \u0648\u0627\u0644\u0642\u0627\u0633\u0627\u062A"),e("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},"\u0625\u062F\u0627\u0631\u0629 \u0634\u0627\u0645\u0644\u0629 \u0644\u0644\u0635\u0646\u062F\u0648\u0642 \u0648\u0642\u0627\u0633\u0627\u062A \u0627\u0644\u0632\u0628\u0627\u0626\u0646")],-1),te={key:0,class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6"},oe={class:"bg-gradient-to-r from-green-500 to-green-600 rounded-lg p-6 text-white"},se={class:"flex items-center justify-between"},re=e("h3",{class:"text-sm font-semibold mb-1 opacity-90"},"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0642\u0627\u0633\u0627\u062A",-1),ae={class:"text-3xl font-bold"},le=e("div",{class:"w-14 h-14 bg-white bg-opacity-20 rounded-full flex items-center justify-center"},[e("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})])],-1),ne={class:"bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg p-6 text-white"},ie={class:"flex items-center justify-between"},de=e("h3",{class:"text-sm font-semibold mb-1 opacity-90"},"\u0627\u0644\u0641\u0631\u0642 (\u0631\u0623\u0633 \u0627\u0644\u0645\u0627\u0644 - \u0627\u0644\u0642\u0627\u0633\u0627\u062A)",-1),ce={class:"text-xs mt-1 opacity-75"},ue=e("div",{class:"w-14 h-14 bg-white bg-opacity-20 rounded-full flex items-center justify-center"},[e("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})])],-1),ge={class:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-lg p-6 text-white"},he={class:"flex items-center justify-between"},xe=e("h3",{class:"text-sm font-semibold mb-1 opacity-90"},"\u0631\u0623\u0633 \u0627\u0644\u0645\u0627\u0644",-1),me={class:"text-3xl font-bold"},pe={class:"text-xs mt-1 opacity-75"},ye=e("div",{class:"w-14 h-14 bg-white bg-opacity-20 rounded-full flex items-center justify-center"},[e("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1),ve={key:1,class:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden mb-6"},be=e("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0632\u0628\u0627\u0626\u0646 \u0648\u0627\u0644\u0642\u0627\u0633\u0627\u062A")],-1),fe={class:"overflow-x-auto"},ke={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},we=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"\u0627\u0633\u0645 \u0627\u0644\u0632\u0628\u0648\u0646"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"\u0627\u0644\u0631\u0635\u064A\u062F"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"\u062D\u0627\u0644\u0629 \u0627\u0644\u0642\u0627\u0633\u0629"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"\u0625\u062C\u0631\u0627\u0621\u0627\u062A")])],-1),_e={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Ce={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},Me={class:"px-6 py-4 whitespace-nowrap text-sm"},je={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},Be=e("svg",{class:"w-3 h-3 ml-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),Se={key:1,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"},$e=e("svg",{class:"w-3 h-3 ml-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),ze={class:"px-6 py-4 whitespace-nowrap text-sm space-x-2 space-x-reverse"},Le=["onClick","disabled"],Ve=e("svg",{class:"w-3 h-3 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),He=["onClick"],We=e("svg",{class:"w-3 h-3 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),Ae=["onClick"],Ne=e("svg",{class:"w-3 h-3 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),Fe=["onClick"],De=e("svg",{class:"w-3 h-3 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1),Te={key:2,class:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden mb-6"},Ee={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between"},Ue={class:"text-lg font-medium text-gray-900 dark:text-white"},Pe=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),Re=[Pe],qe={class:"p-6"},Ie={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},Ge={class:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900 dark:to-blue-800 rounded-lg p-4"},Je=e("div",{class:"text-sm text-blue-600 dark:text-blue-300 mb-1"},"\u0627\u0644\u0632\u0628\u0648\u0646",-1),Ke={class:"text-xl font-bold text-blue-900 dark:text-white"},Oe={class:"text-xs text-blue-500 dark:text-blue-400 mt-1"},Qe={class:"bg-gradient-to-r from-green-50 to-green-100 dark:from-green-900 dark:to-green-800 rounded-lg p-4"},Xe=e("div",{class:"text-sm text-green-600 dark:text-green-300 mb-1"},"\u0627\u0644\u0631\u0635\u064A\u062F \u0627\u0644\u062D\u0627\u0644\u064A",-1),Ye={class:"text-2xl font-bold text-green-900 dark:text-white"},Ze={class:"bg-gradient-to-r from-purple-50 to-purple-100 dark:from-purple-900 dark:to-purple-800 rounded-lg p-4"},et=e("div",{class:"text-sm text-purple-600 dark:text-purple-300 mb-1"},"\u062D\u0627\u0644\u0629 \u0627\u0644\u0642\u0627\u0633\u0629",-1),tt={class:"text-lg font-semibold text-purple-900 dark:text-white"},ot={class:"flex space-x-3 space-x-reverse"},st=e("svg",{class:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),rt=e("svg",{class:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1),at=["disabled"],lt=e("svg",{class:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),nt={key:3,class:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden mb-6"},it=e("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"\u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0627\u062A \u0627\u0644\u0623\u062E\u064A\u0631\u0629")],-1),dt={class:"overflow-x-auto"},ct={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},ut=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"\u0627\u0644\u0646\u0648\u0639"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"\u0627\u0644\u0645\u0628\u0644\u063A"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"\u0627\u0644\u0648\u0635\u0641"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"\u0627\u0644\u0631\u0635\u064A\u062F \u0627\u0644\u0645\u062A\u0631\u0627\u0643\u0645")])],-1),gt={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},ht={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300"},xt={class:"px-6 py-4 whitespace-nowrap text-sm"},mt={class:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400"},pt=["onClick"],yt={class:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4"},vt={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between"},bt={class:"text-lg font-medium text-gray-900 dark:text-white"},ft=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),kt=[ft],wt=["onSubmit"],_t=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"\u0627\u0644\u0645\u0628\u0644\u063A *",-1),Ct=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"\u0627\u0644\u0628\u064A\u0627\u0646 (\u0627\u062E\u062A\u064A\u0627\u0631\u064A)",-1),Mt={class:"flex space-x-3 space-x-reverse pt-4"},jt=["disabled"],Bt={key:0,class:"animate-spin w-5 h-5 ml-2",fill:"none",viewBox:"0 0 24 24"},St=e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),$t=e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),zt=[St,$t],Lt=["onClick"],Vt={class:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4"},Ht={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between"},Wt={class:"text-lg font-medium text-gray-900 dark:text-white"},At=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),Nt=[At],Ft=["onSubmit"],Dt=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"\u0627\u0644\u0645\u0628\u0644\u063A *",-1),Tt=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"\u0627\u0644\u0628\u064A\u0627\u0646 (\u0627\u062E\u062A\u064A\u0627\u0631\u064A)",-1),Et={class:"flex space-x-3 space-x-reverse pt-4"},Ut=["disabled"],Pt={key:0,class:"animate-spin w-5 h-5 ml-2",fill:"none",viewBox:"0 0 24 24"},Rt=e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),qt=e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),It=[Rt,qt],Ot={__name:"SimpleCash",props:{cashboxBalance:Number,cars:Array,customer_id:Number,customerWallets:Array,totalCustomerWallets:Number,capital:Number,totalCarsPrice:Number,totalExpenses:Number,allCustomers:Array},setup(c){const k=c,h=q(),H=p(!1),_=p(!1),x=p(!1),d=p(null),M=p(0),f=p([]),z=p(!1),L=p(!1),y=p(null),n=p({amount:"",note:""});I(()=>{var s;console.log("allCustomers:",k.allCustomers),console.log("allCustomers type:",typeof k.allCustomers),console.log("allCustomers is Array:",Array.isArray(k.allCustomers)),console.log("allCustomers length:",(s=k.allCustomers)==null?void 0:s.length)});const v=s=>{var i;return!!((i=k.customerWallets)==null?void 0:i.find(m=>m.customer_id===s.id))},W=s=>{var i;const t=(i=k.customerWallets)==null?void 0:i.find(m=>m.customer_id===s.id);return t?t.balance:0},V=async s=>{d.value=s,H.value=!0;try{const t=await $.get(`/api/customer-wallet/${s.id}`);t.data.success?(M.value=t.data.balance,f.value=t.data.transactions||[]):(M.value=0,f.value=[],h.warning(t.data.message||"\u0644\u0645 \u064A\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0642\u0627\u0633\u0629 \u0644\u0647\u0630\u0627 \u0627\u0644\u0632\u0628\u0648\u0646 \u0628\u0639\u062F"))}catch(t){console.error("Error loading customer wallet:",t),h.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0642\u0627\u0633\u0629")}finally{H.value=!1}},U=()=>{d.value=null,M.value=0,f.value=[]},A=async s=>{_.value=!0;try{(await $.post("/api/customer-wallet/create",{customer_id:s.id})).data.success&&(h.success("\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0642\u0627\u0633\u0629 \u0628\u0646\u062C\u0627\u062D"),setTimeout(()=>{window.location.href=window.location.href},1e3))}catch(t){console.error("Error creating wallet:",t),h.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0641\u064A \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0642\u0627\u0633\u0629")}finally{_.value=!1}},N=s=>{y.value=s,z.value=!0,n.value={amount:"",note:""}},F=s=>{y.value=s,L.value=!0,n.value={amount:"",note:""}},b=()=>{z.value=!1,L.value=!1,y.value=null,n.value={amount:"",note:""}},P=async()=>{var s;if(!n.value.amount||n.value.amount<=0){h.error("\u064A\u0631\u062C\u0649 \u0625\u062F\u062E\u0627\u0644 \u0645\u0628\u0644\u063A \u0635\u062D\u064A\u062D");return}x.value=!0;try{const t=new URLSearchParams({amount:n.value.amount,note:n.value.note||"",customer_id:y.value.id});await $.get(`/api/addToBox?${t}`),h.success("\u062A\u0645 \u0625\u064A\u062F\u0627\u0639 \u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0646\u062C\u0627\u062D");const i=y.value.id;b(),((s=d.value)==null?void 0:s.id)===i&&await V({id:i}),setTimeout(()=>{window.location.href=window.location.href},800)}catch(t){console.error("Error depositing:",t),h.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u0625\u064A\u062F\u0627\u0639")}finally{x.value=!1}},R=async()=>{var s;if(!n.value.amount||n.value.amount<=0){h.error("\u064A\u0631\u062C\u0649 \u0625\u062F\u062E\u0627\u0644 \u0645\u0628\u0644\u063A \u0635\u062D\u064A\u062D");return}x.value=!0;try{const t=new URLSearchParams({amount:n.value.amount,note:n.value.note||"",customer_id:y.value.id});await $.get(`/api/withDrawFromBox?${t}`),h.success("\u062A\u0645 \u0633\u062D\u0628 \u0627\u0644\u0645\u0628\u0644\u063A \u0628\u0646\u062C\u0627\u062D");const i=y.value.id;b(),((s=d.value)==null?void 0:s.id)===i&&await V({id:i}),setTimeout(()=>{window.location.href=window.location.href},800)}catch(t){console.error("Error withdrawing:",t),h.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u0633\u062D\u0628")}finally{x.value=!1}},D=s=>{let t=0;for(let i=f.value.length-1;i>=s;i--){const m=f.value[i];m.type==="in"?t+=parseFloat(m.amount):t-=parseFloat(m.amount)}return t};return(s,t)=>(a(),G(X,null,{default:J(()=>{var i,m;return[K(O(Q),{title:"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0635\u0646\u062F\u0648\u0642 \u0648\u0627\u0644\u0642\u0627\u0633\u0627\u062A"}),e("div",Y,[e("div",Z,[ee,c.customer_id?u("",!0):(a(),l("div",te,[e("div",oe,[e("div",se,[e("div",null,[re,e("p",ae,"$"+r(Math.round(c.totalCustomerWallets).toLocaleString()),1)]),le])]),e("div",ne,[e("div",ie,[e("div",null,[de,e("p",{class:C(["text-3xl font-bold",c.capital-c.totalCustomerWallets>=0?"":"text-red-200"])},"$"+r(Math.round(c.capital-c.totalCustomerWallets).toLocaleString()),3),e("p",ce,"$"+r(Math.round(c.capital).toLocaleString())+" - $"+r(Math.round(c.totalCustomerWallets).toLocaleString()),1)]),ue])]),e("div",ge,[e("div",he,[e("div",null,[xe,e("p",me,"$"+r(Math.round(c.capital).toLocaleString()),1),e("p",pe,"\u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A + \u0627\u0644\u0645\u0635\u0627\u0631\u064A\u0641 ($"+r(Math.round(c.totalExpenses).toLocaleString())+")",1)]),ye])])])),!c.customer_id&&Array.isArray(c.allCustomers)&&c.allCustomers.length>0?(a(),l("div",ve,[be,e("div",fe,[e("table",ke,[we,e("tbody",_e,[(a(!0),l(T,null,E(c.allCustomers,o=>(a(),l("tr",{key:o.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[e("td",Ce,r(o.name),1),e("td",{class:C(["px-6 py-4 whitespace-nowrap text-sm font-bold",W(o)>=0?"text-green-600":"text-red-600"])}," $"+r(Math.round(W(o)).toLocaleString()),3),e("td",Me,[v(o)?(a(),l("span",je,[Be,g(" \u062A\u0645 \u0627\u0644\u0625\u0646\u0634\u0627\u0621 ")])):(a(),l("span",Se,[$e,g(" \u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0625\u0646\u0634\u0627\u0621 ")]))]),e("td",ze,[v(o)?u("",!0):(a(),l("button",{key:0,onClick:w=>A(o),disabled:_.value,class:"inline-flex items-center px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-xs font-medium rounded-md disabled:opacity-50 transition-colors"},[Ve,g(" \u0625\u0646\u0634\u0627\u0621 \u0642\u0627\u0633\u0629 ")],8,Le)),e("button",{onClick:w=>V(o),class:"inline-flex items-center px-3 py-1.5 bg-green-600 hover:bg-green-700 text-white text-xs font-medium rounded-md transition-colors"},[We,g(" \u0639\u0631\u0636 ")],8,He),v(o)?(a(),l("button",{key:1,onClick:w=>N(o),class:"inline-flex items-center px-3 py-1.5 bg-emerald-600 hover:bg-emerald-700 text-white text-xs font-medium rounded-md transition-colors"},[Ne,g(" \u0625\u064A\u062F\u0627\u0639 ")],8,Ae)):u("",!0),v(o)?(a(),l("button",{key:2,onClick:w=>F(o),class:"inline-flex items-center px-3 py-1.5 bg-red-600 hover:bg-red-700 text-white text-xs font-medium rounded-md transition-colors"},[De,g(" \u0633\u062D\u0628 ")],8,Fe)):u("",!0)])]))),128))])])])])):u("",!0),d.value?(a(),l("div",Te,[e("div",Ee,[e("h3",Ue,"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0632\u0628\u0648\u0646: "+r(d.value.name),1),e("button",{onClick:U,class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},Re)]),e("div",qe,[e("div",Ie,[e("div",Ge,[Je,e("div",Ke,r(d.value.name),1),e("div",Oe,r(d.value.email),1)]),e("div",Qe,[Xe,e("div",Ye,"$"+r(Math.round(M.value).toLocaleString()),1)]),e("div",Ze,[et,e("div",tt,r(v(d.value)?"\u0646\u0634\u0637\u0629":"\u063A\u064A\u0631 \u0645\u0646\u0634\u0623\u0629"),1)])]),e("div",ot,[v(d.value)?(a(),l("button",{key:0,onClick:t[0]||(t[0]=o=>N(d.value)),class:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-3 rounded-lg font-medium transition-colors flex items-center justify-center"},[st,g(" \u0625\u064A\u062F\u0627\u0639 \u0645\u0628\u0644\u063A ")])):u("",!0),v(d.value)?(a(),l("button",{key:1,onClick:t[1]||(t[1]=o=>F(d.value)),class:"flex-1 bg-red-600 hover:bg-red-700 text-white px-4 py-3 rounded-lg font-medium transition-colors flex items-center justify-center"},[rt,g(" \u0633\u062D\u0628 \u0645\u0628\u0644\u063A ")])):u("",!0),v(d.value)?u("",!0):(a(),l("button",{key:2,onClick:t[2]||(t[2]=o=>A(d.value)),disabled:_.value,class:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-lg font-medium disabled:opacity-50 transition-colors flex items-center justify-center"},[lt,g(" "+r(_.value?"\u062C\u0627\u0631\u064A \u0627\u0644\u0625\u0646\u0634\u0627\u0621...":"\u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0642\u0627\u0633\u0629"),1)],8,at))])])])):u("",!0),d.value&&f.value.length>0?(a(),l("div",nt,[it,e("div",dt,[e("table",ct,[ut,e("tbody",gt,[(a(!0),l(T,null,E(f.value,(o,w)=>(a(),l("tr",{key:o.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[e("td",ht,r(new Date(o.created_at).toLocaleDateString("en-US")),1),e("td",xt,[e("span",{class:C([o.type==="in"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200","px-2 py-1 rounded-full text-xs font-semibold"])},r(o.type==="in"?"\u0625\u064A\u062F\u0627\u0639":"\u0633\u062D\u0628"),3)]),e("td",{class:C(["px-6 py-4 whitespace-nowrap text-sm font-bold",o.type==="in"?"text-green-600":"text-red-600"])},r(o.type==="in"?"+":"-")+"$"+r(Math.round(o.amount).toLocaleString()),3),e("td",mt,r(o.description||"\u0644\u0627 \u064A\u0648\u062C\u062F \u0648\u0635\u0641"),1),e("td",{class:C(["px-6 py-4 whitespace-nowrap text-sm font-bold",D(w)>=0?"text-blue-600":"text-red-600"])}," $"+r(Math.round(D(w)).toLocaleString()),3)]))),128))])])])])):u("",!0),z.value?(a(),l("div",{key:4,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:j(b,["self"])},[e("div",yt,[e("div",vt,[e("h3",bt,"\u0625\u064A\u062F\u0627\u0639 \u0645\u0628\u0644\u063A - "+r((i=y.value)==null?void 0:i.name),1),e("button",{onClick:b,class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},kt)]),e("form",{onSubmit:j(P,["prevent"]),class:"p-6 space-y-4"},[e("div",null,[_t,B(e("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=o=>n.value.amount=o),required:"",min:"0",step:"0.01",class:"w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md shadow-sm focus:border-green-500 focus:ring focus:ring-green-200",placeholder:"\u0623\u062F\u062E\u0644 \u0627\u0644\u0645\u0628\u0644\u063A"},null,512),[[S,n.value.amount]])]),e("div",null,[Ct,B(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=o=>n.value.note=o),rows:"3",class:"w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md shadow-sm focus:border-green-500 focus:ring focus:ring-green-200",placeholder:"\u0648\u0635\u0641 \u0627\u0644\u0639\u0645\u0644\u064A\u0629"},null,512),[[S,n.value.note]])]),e("div",Mt,[e("button",{type:"button",onClick:b,class:"flex-1 bg-gray-200 hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-500 text-gray-800 dark:text-white px-4 py-2 rounded-lg font-medium transition-colors"}," \u0625\u0644\u063A\u0627\u0621 "),e("button",{type:"submit",disabled:x.value,class:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded-lg font-medium disabled:opacity-50 transition-colors flex items-center justify-center"},[x.value?(a(),l("svg",Bt,zt)):u("",!0),g(" "+r(x.value?"\u062C\u0627\u0631\u064A \u0627\u0644\u0625\u064A\u062F\u0627\u0639...":"\u0625\u064A\u062F\u0627\u0639"),1)],8,jt)])],40,wt)])],8,pt)):u("",!0),L.value?(a(),l("div",{key:5,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:j(b,["self"])},[e("div",Vt,[e("div",Ht,[e("h3",Wt,"\u0633\u062D\u0628 \u0645\u0628\u0644\u063A - "+r((m=y.value)==null?void 0:m.name),1),e("button",{onClick:b,class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},Nt)]),e("form",{onSubmit:j(R,["prevent"]),class:"p-6 space-y-4"},[e("div",null,[Dt,B(e("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=o=>n.value.amount=o),required:"",min:"0",step:"0.01",class:"w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md shadow-sm focus:border-red-500 focus:ring focus:ring-red-200",placeholder:"\u0623\u062F\u062E\u0644 \u0627\u0644\u0645\u0628\u0644\u063A"},null,512),[[S,n.value.amount]])]),e("div",null,[Tt,B(e("textarea",{"onUpdate:modelValue":t[6]||(t[6]=o=>n.value.note=o),rows:"3",class:"w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-md shadow-sm focus:border-red-500 focus:ring focus:ring-red-200",placeholder:"\u0648\u0635\u0641 \u0627\u0644\u0639\u0645\u0644\u064A\u0629"},null,512),[[S,n.value.note]])]),e("div",Et,[e("button",{type:"button",onClick:b,class:"flex-1 bg-gray-200 hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-500 text-gray-800 dark:text-white px-4 py-2 rounded-lg font-medium transition-colors"}," \u0625\u0644\u063A\u0627\u0621 "),e("button",{type:"submit",disabled:x.value,class:"flex-1 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium disabled:opacity-50 transition-colors flex items-center justify-center"},[x.value?(a(),l("svg",Pt,It)):u("",!0),g(" "+r(x.value?"\u062C\u0627\u0631\u064A \u0627\u0644\u0633\u062D\u0628...":"\u0633\u062D\u0628"),1)],8,Ut)])],40,Ft)])],8,Lt)):u("",!0)])])]}),_:1}))}};export{Ot as default};
