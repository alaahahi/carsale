import{_ as v}from"./AuthenticatedLayout.4a38c6b0.js";import{z as w,m as u,o as s,a as o,f as x,u as C,e as E,F as k,H as N,h as r,S as P,t,g as b,j as i,y as S}from"./app.f0ef8cf8.js";import{a as I}from"./index.818be3b6.js";const B={class:"max-w-4xl mx-auto py-6 sm:px-6 lg:px-8"},D={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},F={class:"p-6 bg-white dark:bg-gray-800"},V=r("h2",{class:"text-2xl font-bold mb-6 text-gray-900 dark:text-gray-100"}," \u0627\u0633\u062A\u064A\u0631\u0627\u062F \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0645\u0646 Excel ",-1),z=r("div",{class:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6"},[r("h3",{class:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-3"}," \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0647\u0627\u0645\u0629 "),r("ul",{class:"list-disc list-inside space-y-2 text-sm text-blue-800 dark:text-blue-200"},[r("li",null,"\u064A\u0631\u062C\u0649 \u0627\u0644\u062A\u0623\u0643\u062F \u0645\u0646 \u0623\u0646 \u0627\u0644\u0645\u0644\u0641 \u0628\u0635\u064A\u063A\u0629 Excel (.xlsx, .xls) \u0623\u0648 CSV"),r("li",null,"\u0627\u0644\u0635\u0641 \u0627\u0644\u0623\u0648\u0644 \u064A\u062C\u0628 \u0623\u0646 \u064A\u062D\u062A\u0648\u064A \u0639\u0644\u0649 \u0627\u0644\u0639\u0646\u0627\u0648\u064A\u0646"),r("li",null,"\u0627\u0644\u0639\u0645\u0648\u062F \u0627\u0644\u062B\u0627\u0646\u064A (PIN) \u0645\u0637\u0644\u0648\u0628 \u0648\u0644\u0627 \u064A\u0645\u0643\u0646 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0641\u0627\u0631\u063A\u0627\u064B"),r("li",null,"\u0633\u064A\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A \u0627\u0644\u0645\u0648\u062C\u0648\u062F\u0629 \u0625\u0630\u0627 \u0643\u0627\u0646 \u0631\u0642\u0645 PIN \u0645\u062A\u0637\u0627\u0628\u0642\u0627\u064B"),r("li",null,"\u0627\u0644\u0639\u0645\u0644\u064A\u0629 \u062A\u0633\u062A\u062E\u062F\u0645 \u0646\u0638\u0627\u0645 Rollback \u0641\u064A \u062D\u0627\u0644 \u0627\u0644\u0641\u0634\u0644")])],-1),M={class:"border border-gray-200 dark:border-gray-700 rounded-lg p-6 mb-6"},T={class:"mb-4"},j=r("label",{for:"file",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," \u0627\u062E\u062A\u0631 \u0645\u0644\u0641 Excel ",-1),H={key:0,class:"mb-4"},L={class:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700"},R={class:"text-sm text-gray-600 dark:text-gray-400 mt-1 text-center"},U={class:"flex gap-4"},A=["disabled"],G={key:0,class:"border border-gray-200 dark:border-gray-700 rounded-lg p-6"},J=r("h3",{class:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"}," \u0646\u062A\u0627\u0626\u062C \u0627\u0644\u0627\u0633\u062A\u064A\u0631\u0627\u062F ",-1),K={key:0,class:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 mb-4"},$={class:"flex items-start"},q=r("svg",{class:"w-5 h-5 text-green-600 dark:text-green-400 mt-0.5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),O={class:"text-green-800 dark:text-green-200 font-medium mb-2"},Q={class:"grid grid-cols-3 gap-4 text-sm text-green-700 dark:text-green-300"},W=r("span",{class:"font-semibold"},"\u0646\u062C\u062D:",-1),X={key:0},Y=r("span",{class:"font-semibold"},"\u0641\u0634\u0644:",-1),Z={key:1},rr=r("span",{class:"font-semibold"},"\u062A\u0645 \u0627\u0644\u062A\u062E\u0637\u064A:",-1),er={key:1,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-4"},ar={class:"flex items-start"},dr=r("svg",{class:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),sr={class:"text-red-800 dark:text-red-200 font-medium mb-2"},or={class:"grid grid-cols-3 gap-4 text-sm text-red-700 dark:text-red-300"},tr=r("span",{class:"font-semibold"},"\u0646\u062C\u062D:",-1),lr=r("span",{class:"font-semibold"},"\u0641\u0634\u0644:",-1),br={key:0},cr=r("span",{class:"font-semibold"},"\u062A\u0645 \u0627\u0644\u062A\u062E\u0637\u064A:",-1),gr={key:2,class:"mt-4"},yr=r("h4",{class:"font-semibold mb-2 text-gray-900 dark:text-gray-100"}," \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0623\u062E\u0637\u0627\u0621: ",-1),nr={class:"max-h-60 overflow-y-auto"},ir={class:"text-sm"},pr={class:"font-semibold text-yellow-800 dark:text-yellow-300"},ur={class:"text-yellow-700 dark:text-yellow-400 ml-2"},xr={key:0,class:"text-yellow-600 dark:text-yellow-500 block mt-1"},kr=r("div",{class:"mt-6 bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4"},[r("h4",{class:"font-semibold mb-2 text-gray-900 dark:text-gray-100"}," \u0647\u064A\u0643\u0644 \u0645\u0644\u0641 Excel \u0627\u0644\u0645\u0637\u0644\u0648\u0628: "),r("div",{class:"overflow-x-auto"},[r("table",{class:"min-w-full text-sm"},[r("thead",{class:"bg-gray-100 dark:bg-gray-800"},[r("tr",null,[r("th",{class:"px-3 py-2 text-right border border-gray-300 dark:border-gray-600"},"\u0627\u0644\u0639\u0645\u0648\u062F"),r("th",{class:"px-3 py-2 text-right border border-gray-300 dark:border-gray-600"},"\u0627\u0644\u062D\u0642\u0644"),r("th",{class:"px-3 py-2 text-right border border-gray-300 dark:border-gray-600"},"\u0627\u0644\u0646\u0648\u0639"),r("th",{class:"px-3 py-2 text-right border border-gray-300 dark:border-gray-600"},"\u0645\u0637\u0644\u0648\u0628")])]),r("tbody",{class:"bg-white dark:bg-gray-700"},[r("tr",null,[r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"A"),r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"No"),r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"\u0646\u0635"),r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"\u0644\u0627")]),r("tr",null,[r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"B"),r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"PIN"),r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"\u0646\u0635"),r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"\u0646\u0639\u0645")]),r("tr",null,[r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"C"),r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"Name Part 1"),r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"\u0646\u0635"),r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"\u0644\u0627")]),r("tr",null,[r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"D"),r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"Color"),r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"\u0646\u0635"),r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"\u0644\u0627")]),r("tr",null,[r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"E"),r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"Model"),r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"\u0646\u0635"),r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"\u0644\u0627")]),r("tr",null,[r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"F"),r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"Purchase Price"),r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"\u0631\u0642\u0645"),r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"\u0644\u0627")]),r("tr",null,[r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"G"),r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"Dubai Shipping"),r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"\u0631\u0642\u0645"),r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"\u0644\u0627")]),r("tr",null,[r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"H"),r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"Dubai Exp"),r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"\u0631\u0642\u0645"),r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"\u0644\u0627")]),r("tr",null,[r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"I"),r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"Erbil Shipping"),r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"\u0631\u0642\u0645"),r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"\u0644\u0627")]),r("tr",null,[r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"J"),r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"Erbil Exp"),r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"\u0631\u0642\u0645"),r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"\u0644\u0627")]),r("tr",null,[r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"K"),r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"Name Part 2"),r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"\u0646\u0635"),r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"\u0644\u0627")]),r("tr",null,[r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"L"),r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"Source"),r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"\u0646\u0635"),r("td",{class:"px-3 py-2 border border-gray-300 dark:border-gray-600"},"\u0644\u0627")])])])])],-1),vr={__name:"ImportCars",props:{url:String},setup(_r){const l=w(),g=u(null),y=u(!1),p=u(0),e=u(null),_=n=>{const c=n.target.files[0];if(c){const a=["xlsx","xls","csv"],d=c.name.split(".").pop().toLowerCase();if(!a.includes(d)){l.error("\u0646\u0648\u0639 \u0627\u0644\u0645\u0644\u0641 \u063A\u064A\u0631 \u0645\u062F\u0639\u0648\u0645. \u064A\u0631\u062C\u0649 \u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0645\u0644\u0641 Excel (.xlsx, .xls) \u0623\u0648 CSV"),n.target.value="";return}if(c.size>10*1024*1024){l.error("\u062D\u062C\u0645 \u0627\u0644\u0645\u0644\u0641 \u0643\u0628\u064A\u0631 \u062C\u062F\u0627\u064B. \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 10MB"),n.target.value="";return}}},m=async()=>{if(!g.value||!g.value.files[0]){l.error("\u064A\u0631\u062C\u0649 \u0627\u062E\u062A\u064A\u0627\u0631 \u0645\u0644\u0641 \u0644\u0644\u0627\u0633\u062A\u064A\u0631\u0627\u062F");return}const n=g.value.files[0],c=new FormData;c.append("file",n),y.value=!0,p.value=0;try{const a=await I.post(route("car.import"),c,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:d=>{d.total&&(p.value=Math.round(d.loaded*100/d.total))}});y.value=!1,e.value=a.data,a.data.success?(l.success(a.data.message),a.data.errors&&a.data.errors.length>0&&console.warn("Import completed with errors:",a.data.errors)):l.error(a.data.message)}catch(a){if(y.value=!1,a.response){const d=a.response.data;l.error(d.message||"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u0627\u0633\u062A\u064A\u0631\u0627\u062F"),e.value={success:!1,message:d.message,errors:d.errors||[],success_count:d.success_count||0,error_count:d.error_count||0,skip_count:d.skip_count||0}}else l.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0628\u0627\u0644\u062E\u0627\u062F\u0645")}},h=()=>{l.info("\u0633\u064A\u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0645\u0644\u0641 \u0627\u0644\u0642\u0627\u0644\u0628 \u0642\u0631\u064A\u0628\u0627\u064B")},f=()=>{e.value=null,g.value&&(g.value.value="")};return(n,c)=>(s(),o(k,null,[x(C(N),{title:"\u0627\u0633\u062A\u064A\u0631\u0627\u062F \u0627\u0644\u0633\u064A\u0627\u0631\u0627\u062A"}),x(v,null,{default:E(()=>[r("div",B,[r("div",D,[r("div",F,[V,z,r("div",M,[r("div",T,[j,r("input",{ref_key:"fileInput",ref:g,type:"file",id:"file",accept:".xlsx,.xls,.csv",onChange:_,class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-blue-900 dark:file:text-blue-300"},null,544)]),y.value?(s(),o("div",H,[r("div",L,[r("div",{class:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:P({width:p.value+"%"})},null,4)]),r("p",R," \u062C\u0627\u0631\u064A \u0627\u0644\u0627\u0633\u062A\u064A\u0631\u0627\u062F... "+t(p.value)+"% ",1)])):b("",!0),r("div",U,[r("button",{onClick:m,disabled:y.value,class:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed dark:bg-blue-500 dark:hover:bg-blue-600"},t(y.value?"\u062C\u0627\u0631\u064A \u0627\u0644\u0627\u0633\u062A\u064A\u0631\u0627\u062F...":"\u0628\u062F\u0621 \u0627\u0644\u0627\u0633\u062A\u064A\u0631\u0627\u062F"),9,A),r("button",{onClick:h,class:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"}," \u062A\u062D\u0645\u064A\u0644 \u0645\u0644\u0641 \u0627\u0644\u0642\u0627\u0644\u0628 "),e.value?(s(),o("button",{key:0,onClick:f,class:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"}," \u0645\u0633\u062D \u0627\u0644\u0646\u062A\u0627\u0626\u062C ")):b("",!0)])]),e.value?(s(),o("div",G,[J,e.value.success?(s(),o("div",K,[r("div",$,[q,r("div",null,[r("p",O,t(e.value.message),1),r("div",Q,[r("div",null,[W,i(" "+t(e.value.success_count)+" \u0633\u064A\u0627\u0631\u0629 ",1)]),e.value.error_count>0?(s(),o("div",X,[Y,i(" "+t(e.value.error_count)+" \u0633\u0637\u0631 ",1)])):b("",!0),e.value.skip_count>0?(s(),o("div",Z,[rr,i(" "+t(e.value.skip_count)+" \u0633\u0637\u0631 ",1)])):b("",!0)])])])])):(s(),o("div",er,[r("div",ar,[dr,r("div",null,[r("p",sr,t(e.value.message),1),r("div",or,[r("div",null,[tr,i(" "+t(e.value.success_count)+" \u0633\u064A\u0627\u0631\u0629 ",1)]),r("div",null,[lr,i(" "+t(e.value.error_count)+" \u0633\u0637\u0631 ",1)]),e.value.skip_count>0?(s(),o("div",br,[cr,i(" "+t(e.value.skip_count)+" \u0633\u0637\u0631 ",1)])):b("",!0)])])])])),e.value.errors&&e.value.errors.length>0?(s(),o("div",gr,[yr,r("div",nr,[(s(!0),o(k,null,S(e.value.errors,(a,d)=>(s(),o("div",{key:d,class:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded p-3 mb-2"},[r("div",ir,[r("span",pr," \u0627\u0644\u0633\u0637\u0631 "+t(a.row)+": ",1),r("span",ur,t(a.message),1),a.pin?(s(),o("span",xr," PIN: "+t(a.pin),1)):b("",!0)])]))),128))])])):b("",!0)])):b("",!0),kr])])])]),_:1})],64))}};export{vr as default};
